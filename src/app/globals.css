@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --foreground-rgb: 0, 0, 0;
  --background-start-rgb: 214, 219, 220;
  --background-end-rgb: 255, 255, 255;

  /* Modern Parchment Design System */
  --parchment-surface: #FDF7E9;
  --parchment-text: #1F2937;
  --parchment-text-muted: #6B7280;
  --parchment-accent: #4F46E5;
  --parchment-success: #047857;
  --parchment-success-bg: #ECFDF5;
  --parchment-border: rgba(0, 0, 0, 0.1);
  --parchment-hover: rgba(0, 0, 0, 0.05);
  --parchment-selected: rgba(79, 70, 229, 0.1);
}

@media (prefers-color-scheme: dark) {
  :root {
    --foreground-rgb: 255, 255, 255;
    --background-start-rgb: 0, 0, 0;
    --background-end-rgb: 0, 0, 0;
  }
}

body {
  color: rgb(var(--foreground-rgb));
  background: linear-gradient(
      to bottom,
      transparent,
      rgb(var(--background-end-rgb))
    )
    rgb(var(--background-start-rgb));
}

/* Ensure form elements have visible text, especially in cards/white containers */
input, textarea, select {
  background-color: #ffffff;
  color: #1a1a1a;
  /* Forms plugin handles most, but ensuring caret is black for visibility */
  caret-color: #000000;
}

/* If you need specifically white text in dark inputs, you can override with .text-white */


/* Zen Mode Animations */
@keyframes fade-in {
  from {
    opacity: 0;
    transform: translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-fade-in {
  animation: fade-in 0.3s ease-out forwards;
}

/* Zen Mode Canvas Styling */
.zen-mode {
  /* Modern Parchment background from UX spec */
  --zen-surface: #FDF7E9;
  --zen-text: #1F2937;
  --zen-accent: #4F46E5;
}

/* Ensure smooth transitions for Zen Mode */
.zen-mode textarea,
.zen-mode input {
  background-color: transparent;
}

/* Reduce visual noise in Zen Mode */
.zen-mode .zen-minimized {
  opacity: 0.3;
  transition: opacity 0.2s ease;
}

.zen-mode .zen-minimized:hover {
  opacity: 1;
}

/* Ghost Text Styling (AC 2.3.6) */
/* Ghost Text Styling (AC 2.3.6 & H.5.2) */
.ghost-text-container {
  display: inline;
  position: relative;
}

.ghost-text-suggestion {
  font-family: "SF Mono", "Menlo", "Monaco", "Consolas", monospace;
  color: #78716C; /* Stone-500: Warmer "Graphite" tone for parchment */
  opacity: 0.6;
  animation: ghost-text-fade-in 0.4s ease-out, ghost-text-pulse-subtle 4s ease-in-out infinite;
  pointer-events: none;
  user-select: none;
}

.ghost-text-loading {
  display: inline-flex;
  gap: 2px;
  color: #9CA3AF;
  font-size: 0.75rem;
}

.ghost-text-dot {
  animation: ghost-text-pulse 1.4s ease-in-out infinite;
  opacity: 0.4;
}

.ghost-text-dot:nth-child(1) { animation-delay: 0s; }
.ghost-text-dot:nth-child(2) { animation-delay: 0.2s; }
.ghost-text-dot:nth-child(3) { animation-delay: 0.4s; }

.ghost-text-hint {
  display: inline-block;
  margin-left: 0.75rem;
  padding: 0.125rem 0.375rem;
  font-size: 0.625rem;
  font-family: system-ui, sans-serif;
  color: #6B7280;
  background-color: rgba(243, 244, 246, 0.9);
  border-radius: 0.25rem;
  white-space: nowrap;
  animation: ghost-text-fade-in 0.4s ease-out 0.1s both;
}

.ghost-text-hint kbd {
  display: inline-block;
  padding: 0 0.25rem;
  font-size: 0.625rem;
  font-family: inherit;
  background-color: white;
  border: 1px solid #D1D5DB;
  border-radius: 0.125rem;
  box-shadow: 0 1px 0 rgba(0, 0, 0, 0.1);
}

.ghost-text-overlay {
  font-family: "SF Mono", "Menlo", "Monaco", "Consolas", monospace;
  color: #78716C; /* Stone-500 */
  opacity: 0.6;
  animation: ghost-text-fade-in 0.3s ease-out, ghost-text-pulse-subtle 4s ease-in-out infinite;
  white-space: pre-wrap;
  word-break: break-word;
}

@keyframes ghost-text-fade-in {
  from {
    opacity: 0;
    transform: translateX(-4px);
  }
  to {
    opacity: 0.6;
    transform: translateX(0);
  }
}

@keyframes ghost-text-pulse-subtle {
  0%, 100% { opacity: 0.6; }
  50% { opacity: 0.45; }
}

@keyframes ghost-text-pulse {
  0%, 60%, 100% {
    opacity: 0.4;
  }
  30% {
    opacity: 1;
  }
}
